<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
  <link rel="stylesheet" href="css/bootstrap.min.css">
  <link rel="stylesheet" href="css/app.css">
  <title>Fusio-Editor</title>
  <script type="text/javascript">
    var fusio_url = guessEndpointUrl(false);

    function guessEndpointUrl(urlRewrite) {
        var url = window.location.href;
        var removePart = function(url, sign) {
            var count = (url.match(/\//g) || []).length;
            var pos = url.lastIndexOf(sign);
            if (count > 2 && pos !== -1) {
                return url.substring(0, pos);
            }
            return url;
        };
        var parts = ['#', '?', '/', '/'];
        for (var i = 0; i < parts.length; i++) {
            url = removePart(url, parts[i]);
        }
        return url + (urlRewrite ? '/' : '/index.php/');
    }
  </script>
</head>
<body>

<div class="container fusio-login" style="display:none;">
  <nav class="navbar navbar-dark bg-dark">
    <a class="navbar-brand" href="">Fusio-VSCode</a>
  </nav>
  <div class="row">
    <div class="col-md-12">
      <form id="login">
        <div class="form-group">
          <label for="username">Username:</label>
          <input type="text" class="form-control" id="username">
        </div>
        <div class="form-group">
          <label for="password">Password:</label>
          <input type="password" class="form-control" id="password">
        </div>
        <input type="submit" value="Login" class="btn btn-primary">
      </form>
    </div>
  </div>
</div>

<div class="container-fluid fusio-app" style="display:none;">
  <nav class="navbar navbar-dark bg-dark">
    <a class="navbar-brand" href="">Fusio-VSCode</a>
    <div>
      <span id="user" class="navbar-text"></span>
      <a href="#" id="logout" class="btn btn-primary">Logout</a>
    </div>
  </nav>
  <div class="row">
    <div class="col-md-2">
      <h5>Navigation</h5>
      <div class="fusio-sidebar">
        <a class="float-right fusio-new-button" id="newActionButton">
          <svg viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 9H7v5H5V9H0V7h5V2h2v5h5v2z"></path></svg>
        </a>
        <h6>Actions</h6>
        <ul class="nav flex-column" id="fusioActions">
        </ul>
        <h6>Connections</h6>
        <ul class="nav flex-column" id="fusioConnections">
        </ul>
      </div>
    </div>
    <div class="col-md-7">
      <h5 id="editorTitle">-</h5>
      <div id="container" class="fusio-editor"></div>
    </div>
    <div class="col-md-3">
      <h5>Control</h5>
      <div class="fusio-tabs">
        <div>
          <a class="fusio-tabs-header fusio-tabs-header-active" data-target="#execute">Execute</a>
          <a class="fusio-tabs-header" data-target="#validate">Validate</a>
        </div>
        <form id="execute">
          <input type="hidden" id="actionId" value="">
          <div class="form-group">
            <label for="method">Method:</label>
            <select id="method" class="form-control">
              <option value="GET">GET</option>
              <option value="POST">POST</option>
              <option value="PUT">PUT</option>
              <option value="PATCH">PATCH</option>
              <option value="DELETE">DELETE</option>
            </select>
          </div>
          <div class="form-group">
            <label for="uriFragments">URI Fragments:</label>
            <input type="text" class="form-control" id="uriFragments">
          </div>
          <div class="form-group">
            <label for="parameters">Parameters:</label>
            <input type="text" class="form-control" id="parameters">
          </div>
          <div class="form-group">
            <label for="headers">Headers:</label>
            <input type="text" class="form-control" id="headers">
          </div>
          <div class="form-group">
            <label for="body">Body:</label>
            <textarea class="form-control" id="body" rows="4"></textarea>
          </div>
          <input type="submit" id="executeButton" value="Execute" disabled class="btn btn-primary">
        </form>
        <form id="validate" style="display:none;">
          <div class="form-group">
            <label for="schema">Schema:</label>
            <select id="schema" class="form-control"></select>
          </div>
          <input type="submit" id="validateButton" value="Validate" disabled class="btn btn-primary">
          <br><br>
          <div class="alert" role="alert" id="validationError"></div>
        </form>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col-md-12">
      <h5>Response <span id="responseCode"></span></h5>
      <div class="fusio-response">
        <pre id="output"></pre>
      </div>
    </div>
  </div>
</div>

<script src="./dist/app.bundle.js"></script>

</body>
</html>
